function [] = drawPredictorImportaince(regressionTree,limit,estimator,nodeID)
%GETPREDICTORIMPORTAINCE Summary of this function goes here
%   Detailed explanation goes here

imp = 100*(regressionTree.predictorImportance/sum(regressionTree.predictorImportance));

[sortedImp,isortedImp] = sort(imp,'descend');

   figure_1= figure('Tag','PREDICTOR_IMPORTAINCE_PLOT',...
        'NumberTitle','off',...
        'units','pixels',...   
        'OuterPosition',[0 0 2000 1300],...
        'Name','predictorImportaince',...
        'Visible','off'...
    )



barh(imp(isortedImp));hold on ; grid on ;
set(gca,'ydir','reverse');
xlabel('Estimates','FontWeight','bold','FontSize',30);
ylabel('Predictors','FontWeight','bold','FontSize',26);
   % Create title
    Top_Title=strcat(estimator,"- Predictor Importaince Estimates")
    Middle_Title = strcat("Node " +string(nodeID))
    title({Top_Title;Middle_Title},'FontWeight','bold','FontSize',30);

% title('Predictor Importaince Estimates')
ylim([.5 (limit+.5)]);
yticks([1:1:limit])
sortedPredictorLabels= regressionTree.PredictorNames(isortedImp);
    for n = 1:limit
        text(...
            imp(isortedImp(n))+ 0.05,n,...
            strrep(strrep(sortedPredictorLabels(n),"pm2_5","pm2.5"),"_"," ")...
            )
    end
    
        Fig_name = strrep(strcat(strrep(estimator,".","_"),"_Node_",string(nodeID),...
          "_PredictorImportaince",'.png')," ","_")
    saveas(figure_1,char(Fig_name));
   
        Fig_name = strrep(strcat(strrep(estimator,".","_"),"_Node_",string(nodeID),...
          "_PredictorImportaince",'.fig')," ","_")
    saveas(figure_1,char(Fig_name));
    
    
end

